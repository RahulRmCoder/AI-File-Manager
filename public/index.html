<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI File Manager</title>
    <link rel="stylesheet" href="styles/main.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1><i class="fas fa-robot"></i> AI File Manager</h1>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="refreshBtn">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="btn btn-secondary" id="clearChatBtn">
                        <i class="fas fa-eraser"></i> Clear Chat
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- File Explorer -->
            <aside class="file-explorer">
                <div class="explorer-header">
                    <h3><i class="fas fa-folder"></i> File Explorer</h3>
                    <div class="directory-selector">
                        <button class="btn btn-secondary" id="changeDirBtn">
                            <i class="fas fa-folder-open"></i> Change Directory
                        </button>
                        <div class="current-directory" id="currentDirectory" style="padding-top: 10px;">
                            <small>Working in: Loading...</small><br>
                        </div>
                    </div>
                    <div class="breadcrumb" id="breadcrumb" style="padding-top: 10px;">
                        <span class="breadcrumb-item active">Root</span>
                    </div>
                </div>
                <div class="explorer-content" id="fileList">
                    <div class="loading">Loading files...</div>
                </div>
            </aside>

            <!-- Chat Interface -->
            <section class="chat-interface">
                <div class="chat-header">
                    <h3><i class="fas fa-comments"></i> AI Assistant</h3>
                    <div class="status-indicator">
                        <span class="status-dot online"></span>
                        <span>Online</span>
                    </div>
                </div>
                
                <div class="chat-messages" id="chatMessages">
                    <div class="message assistant">
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <p>Hello! I'm your AI file management assistant. I can help you:</p>
                            <ul>
                                <li>Create and delete files and folders</li>
                                <li>List directory contents</li>
                                <li>Create project structures from descriptions</li>
                                <li>Organize your files</li>
                            </ul>
                            <p>Try asking me something like "Create a React project structure" or "Delete all .tmp files"</p>
                        </div>
                    </div>
                </div>
                
                <div class="chat-input-container">
                    <div class="chat-input">
                        <input type="text" id="messageInput" placeholder="Ask me to help with your files..." autocomplete="off">
                        <button id="sendBtn" class="send-btn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                    <div class="quick-actions">
                        <button class="quick-btn" data-action="Set working directory">
                            <i class="fas fa-cog"></i> Set Directory
                        </button>
                        <button class="quick-btn" data-action="List all files">
                            <i class="fas fa-list"></i> List Files
                        </button>
                        <button class="quick-btn" data-action="Create a new folder called 'New Project'">
                            <i class="fas fa-folder-plus"></i> New Folder
                        </button>
                        <button class="quick-btn" data-action="Create a React project structure">
                            <i class="fas fa-code"></i> React Project
                        </button>
                    </div>
                </div>
            </section>
        </main>

        <!-- Directory Selection Modal -->
        <div class="modal" id="directoryModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3><i class="fas fa-folder-open"></i> Select Working Directory</h3>
                    <button class="modal-close" id="modalClose">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="directory-input">
                        <label for="directoryPath">Enter directory path:</label>
                        <input type="text" id="directoryPath" placeholder="e.g., /Users/yourname/Desktop/MyProject">
                        <div class="path-suggestions">
                            <button class="suggestion-btn" data-path="">
                                <i class="fas fa-home"></i> Default Workspace
                            </button>
                            <button class="suggestion-btn" data-path="desktop">
                                <i class="fas fa-desktop"></i> Desktop
                            </button>
                            <button class="suggestion-btn" data-path="documents">
                                <i class="fas fa-file-alt"></i> Documents
                            </button>
                            <button class="suggestion-btn" data-path="downloads">
                                <i class="fas fa-download"></i> Downloads
                            </button>
                        </div>
                    </div>
                    <div class="current-info">
                        <p><strong>Current Directory:</strong> <span id="modalCurrentDir">Loading...</span></p>
                        <p><em>Files will be created in the selected directory</em></p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" id="modalCancel">Cancel</button>
                    <button class="btn btn-primary" id="modalConfirm">Set Directory</button>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/app.js"></script>
</body>
</html>